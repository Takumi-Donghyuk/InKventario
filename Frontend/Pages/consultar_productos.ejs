<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Consultar productos</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-b from-red-50 to-red-100 min-h-screen p-6">

  <!-- Botón de regreso -->
  <div class="w-full max-w-2xl mb-6 flex justify-center">
    <a href="/admin" 
       class="bg-red-500 text-white px-6 py-2 rounded-full 
       shadow-lg hover:bg-red-600 transition-all transform hover:scale-105">
       ⬅ Volver al panel principal
    </a>
  </div>

  <main class="max-w-6xl mx-auto">
    <h1 class="text-4xl font-extrabold text-red-700 mb-10 text-center drop-shadow-lg">Matriz de productos</h1>

    <!-- Grid de productos -->
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
      <% productos.forEach(prod => { %>
      <div class="relative bg-white rounded-3xl shadow-2xl overflow-hidden transform transition-all hover:-translate-y-3 hover:scale-105 hover:shadow-3xl flex flex-col h-full">
        
        <!-- Imagen del producto -->
        <div class="w-full h-56 overflow-hidden rounded-t-3xl">
          <img src="<%= prod.url_imagen && prod.url_imagen.trim() !== '' ? prod.url_imagen : '/images/placeholder.png' %>" 
               alt="<%= prod.nombre %>" 
               class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
        </div>

        <!-- Fondo decorativo animado -->
        <div class="absolute -top-6 -right-6 w-20 h-20 bg-red-200 rounded-full opacity-30 animate-pulse"></div>
        <div class="absolute -bottom-6 -left-6 w-24 h-24 bg-red-300 rounded-full opacity-20 animate-pulse"></div>

        <!-- Contenido -->
        <div class="p-6 relative z-10 flex-1">
          <h2 class="text-xl font-bold text-red-700 mb-2"><%= prod.nombre %></h2>
          <p class="text-red-600 mb-2 text-sm">
            <strong>Precio:</strong> $
            <%= (prod.precio != null) ? Number(prod.precio).toFixed(2) : '0.00' %>
          </p>
          <p class="text-red-600 mb-2 text-sm"><strong>Cantidad:</strong> <%= prod.cantidad %></p>
          <p class="text-red-500 text-sm">
            <strong>Categoría:</strong> <%= prod.categoriaNombre || 'Sin categoría' %>
            &nbsp;|&nbsp;
            <strong>Marca:</strong> <%= prod.marcaNombre || 'Sin marca' %>
            &nbsp;|&nbsp;
            <strong>Proveedor:</strong> <%= prod.proveedorNombre || 'Sin proveedor' %>
          </p>
        </div>

      </div>
      <% }) %>
    </div>
  </main>

</body>
</html>
